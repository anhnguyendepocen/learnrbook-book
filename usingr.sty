\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{usingr}[2016/10/20]

\RequirePackage{xspace}

%\usepackage{amsmath,amssymb,amsthm}
\RequirePackage{unicode-math}

\RequirePackage{fontspec}

\setmainfont{Lucida Bright OT}
\setsansfont{Lucida Sans OT}
\setmonofont{Lucida Console DK}
\linespread{1.25} % increase line spacing as we use in-line math and code

% We set up some other symbol fonts
\newfontfamily\wingdingsfont{Wingdings}
\newcommand\wingdings[1]{{\wingdingsfont\symbol{#1}}}

\newfontfamily\wingdingsfontdos{Wingdings2}
\newcommand\wingdingsdos[1]{{\wingdingsfontdos\symbol{#1}}}

\newfontfamily\wingdingsfonttres{Wingdings3}
\newcommand\wingdingstres[1]{{\wingdingsfonttres\symbol{#1}}}

%\newfontfamily\meteoconsfont{Meteocons}
%\newcommand\meteocons[1]{{\meteoconsfont\symbol{#1}}}
%\newcommand\meteosun{\metecons{"0042}}
%\newcommand\meteosolidsun{\metecons{"0031}}

\newfontfamily\typiconsfont{Typicons}
\newcommand\typicons[1]{{\typiconsfont\symbol{#1}}}
\newcommand\typiadvn{\typicons{"E136}}
\newcommand\typiattn{\typicons{"E04E}}
\newcommand\Attention[1]{\marginpar{\centering\Huge\colorbox{yellow}{\typicons{"E136}}}\index{#1}}
\newcommand\ilAttention{\noindent\colorbox{yellow}{\Huge\typicons{"E136}}\xspace}
\newcommand\Advanced[1]{\marginpar{\centering\colorbox{brown}{\Huge\textcolor{white}{\typicons{"E04E}}}}\index{#1}}
\newcommand\ilAdvanced{\noindent\colorbox{white}{\Huge\typicons{"E04E}}\xspace}

\newfontfamily\noticestdfont{Notice2Std}
\newcommand\noticestd[1]{{\noticestdfont\symbol{#1}}}
\newcommand\playicon{\noindent{\Huge\textcolor{blue}{\noticestd{"0055}}}\xspace}

\newfontfamily\modpictsfont{ModernPictograms}
\newcommand\modpicts[1]{{\modpictsfont\symbol{#1}}}
\newcommand\infoicon{\noindent{\Huge\textcolor{blue}{\modpicts{"003D}}}\xspace}

\newcommand{\langname}[1]{\textsf{#1}\index{#1@\textsf{#1}}\index{programing languages!#1@\textsf{#1}}\xspace}
\newcommand{\pgrmname}[1]{\textsf{#1}\index{#1@\textsf{#1}}\index{programmes!#1@\textsf{#1}}\xspace}
\newcommand{\pkgname}[1]{`\textsf{#1}'\index{#1@\textsf{#1}}\index{packages!#1@\textsf{#1}}\xspace}
\newcommand{\ggplot}{\pkgname{ggplot2}}
\newcommand{\ggspectra}{\pkgname{ggspectra}}
\newcommand{\ggmap}{\pkgname{ggmap}}
\newcommand{\ggtern}{\pkgname{ggtern}}
\newcommand{\ggrepel}{\pkgname{ggrepel}}
\newcommand{\ggpmisc}{\pkgname{ggpmisc}}
\newcommand{\cowplot}{\pkgname{cowplot}}
\newcommand{\scales}{\pkgname{scales}}
\newcommand{\plyr}{\pkgname{plyr}}
\newcommand{\dplyr}{\pkgname{dplyr}}
\newcommand{\tydyr}{\pkgname{tidyr}}
\newcommand{\readr}{\pkgname{readr}}
\newcommand{\xts}{\pkgname{xts}}
\newcommand{\Hmisc}{\pkgname{Hmisc}}
\newcommand{\viridis}{\pkgname{viridis}}

\newcommand{\R}{\textsf{R}}
\newcommand{\Rpgrm}{\pgrmname{R}}
\newcommand{\Rlang}{\langname{R}}
\newcommand{\RStudio}{\pgrmname{RStudio}}

\newcommand{\Rclass}[1]{\code{#1}\index{#1@\code{#1}}\index{class!#1@\code{#1}}\xspace}
\newcommand{\Rfunction}[1]{\code{#1}\index{#1@\code{#1}}\index{function!#1@\code{#1}}\xspace}
\newcommand{\Rmethod}[1]{\code{#1}\index{#1@\code{#1}}\index{methods!#1@\code{#1}}\xspace}
\newcommand{\Roperator}[1]{\code{#1}\index{#1@\code{#1}}\index{operators!#1@\code{#1}}\xspace}

\definecolor{codeshadecolor}{rgb}{0.969, 0.969, 0.969}
\newcommand{\code}[1]{\texttt{\addfontfeature{Scale = 0.89}\colorbox{codeshadecolor}{#1}}}

\newenvironment{playground}[1]{\begin{shaded}\playicon\ #1}{\end{shaded}}

\newenvironment{warningbox}[1]{\begin{shaded}\ilAttention\ #1}{\end{shaded}}

\newenvironment{explainbox}[1]{\begin{framed}\ilAdvanced\ #1}{\end{framed}}

\newenvironment{infobox}[1]{\begin{shaded}\infoicon\ #1}{\end{shaded}}
